<!DOCTYPE html>
<html>
<head>
  <title> CTC2015 Dev </title>

  <meta name="viewport" content="width=device-width, initial-scale=1">
  <script src="//localhost:35729/livereload.js"></script>

  <link href='http://fonts.googleapis.com/css?family=Open+Sans:400,300,300italic,400italic,600,600italic,700,700italic,800,800italic' rel='stylesheet' type='text/css'>

  <!-- TODO Better handling of vendor stuff in prod. -->
  <link rel="stylesheet" type="text/css" href="src/vendor/normalize.css" />
  <script src="src/vendor/underscore-min.js"></script>
  <script src="src/vendor/jquery.min.js"></script>
  <script src="src/vendor/riot.min.js"></script>
  <script src="src/vendor/shaven.min.js"></script>

  <link rel="stylesheet" type="text/css" href="style/index/styles.css" />

  <script src="js/logger.js"></script>
  <script src="js/queryo.js"></script>

</head>
<body>
  <svg viewBox="0 0 100 100" style="display:none; background: white; height:50px; width:50px;">
    <defs>
      <g id="ctc-logo">
        <polygon points="73.3,77.2 49.7,100.7 49.7,100.7 49.7,100.7 -0.5,50.5 -0.5,50.5 -0.5,50.5 49.7,0.3 49.7,0.3 49.7,0.3 100,50.5 
          100,50.5 100,50.5 76.4,74.1 70,67.7 93.6,44.1 93.6,56.9 43.4,6.7 56.1,6.7 5.9,56.9 5.9,44.1 56.1,94.3 43.4,94.3 66.9,70.8   "/>
        <polygon points="38.9,42.7 24.7,56.8 24.7,44.2 56,75.6 43.5,75.6 74.8,44.2 74.8,56.8 43.4,25.5 56,25.4 41.9,39.6 35.6,33.3 
          49.7,19.2 49.7,19.2 49.7,19.2 81.1,50.5 81.1,50.5 81.1,50.5 49.8,81.9 49.8,81.9 49.8,81.9 18.4,50.5 18.4,50.5 18.4,50.5 
          32.6,36.4   "/>
      </g>
    </defs>
  </svg>


  <div id="top" class="wrapper">
    <nav>
      <div class="main-nav-wrapper">
        <div class="main-nav">
          <a href="#top" class="nav-item nav-logo">
            <svg id="logo-svg" viewBox="0 0 100 100">
              <use xlink:href="#ctc-logo" x="0" y="0"  />
            </svg>
          </a>
          <a href="#portfolio" class="nav-item"> Portfolio </a>
          <a href="#publications" class="nav-item"> Publications </a>
          <a href="#skills" class="nav-item"> Skills </a>
          <a href="#about" class="nav-item"> About </a>
          <a href="#contact" class="nav-item"> Contact </a>
        </div>
      </div>
    </nav>
    
    <div class="hero">
      <!-- <video class="hero-vid" poster="local-design/vid/Typing-numbers.jpg"> -->
      <!-- <video class="hero-vid" poster="local-design/vid/Typing-numbers.jpg" autoplay> -->
      <video class="hero-vid" poster="http://connorthomascleary.com/ctc2015/vid/Typing-numbers.jpg">
        <!-- <source src="local-design/vid/Typing-numbers.mp4" /> -->
        <!-- <source src="local-design/vid/Typing-numbers.webm" /> -->
      </video>

      <div class="hero-labels">
        <h1 class="title highlight-boxed"> Connor Thomas Cleary </h1>
        <div class="spinner-container animated highlight-boxed">
          <div class="spinner">
            <div class="verbs">
              <span class="verb"> creates </span>
              <span class="verb"> writes </span>
              <span class="verb"> codes </span>
              <span class="verb"> designs </span>
              <span class="verb"> creates </span>
            </div>
          </div>
          <span class="experiences"> experiences </span>
        </div>
      </div>

    </div>
    <section>
      <div id="portfolio" class="portfolio section">
        <div class="section-content">
          <h1> Portfolio </h1>
          <div class="portfolio-wrapper section-wrapper">
            <tags-app id="portfolio-app"></tags-app>
          </div>
        </div>
      </div>
    </section>

    <section>
      <div id="publications" class="publications section">
        <div class="section-content">
          <h1> Publications &amp; Writing Credits</h1>
          <div class="publications-wrapper section-wrapper">
            <tags-app id="publications-app"></tags-app>
          </div>
        </div>
      </div>
    </section>

    <section>
      <div id="journalism" class="journalism section">
        <div class="section-content">
          <h1> Journalism Credits</h1>
          <div class="journalism-wrapper section-wrapper">
            <tags-app id="journalism-app"></tags-app>
          </div>
        </div>
      </div>
    </section>

    <section>
      <div id="skills" class="skills section">
        <div class="section-content">
          <h1> Skills </h1>
          <h3> Storyteller. Game Designer. Engineer. </h3>
          <br/>
          <div class="skills-wrapper section-wrapper">

              <div class="skills-segment">
                <h4 class="skills-segment-header"> Writing </h4>
                <ul class="skills-list-container">
                  <li class="container">
                    Fiction
                    <ul>
                      <li> <small> Prose </small> </li>
                      <li> <small> Interactive </small> </li>
                      <li> <small> Scriptwriting </small> </li>
                    </ul>
                  </li>
                  <li class="container">
                    Non-Fiction
                    <ul>
                      <li> <small> Journalism </small> </li>
                      <li> <small> Technical </small> </li>
                      <li> <small> Copy </small> </li>
                    </ul>
                  </li>
                </ul>
              </div>

              <div class="skills-segment">
                <h4 class="skills-segment-header"> Languages </h4>
                <ul class="skills-list-container">
                  <li> Javascript <small> [Advanced+] </small> 
                    <ul>
                      <li> <small> <em> Native, Backbone, Underscore </em> </small> </li>
                      <li> <small> <em> HTML5, Video, Canvas, WebGL </em> </small> </li>
                      <li> <small> <em> Riot, D3, jQuery, Grunt </em> </small> </li>
                    </ul>
                  </li>
                  <li> ActionScript 3.0 <small> [Advanced] </small> </li>
                  <li> Java <small> [Intermediate] </small> </li>
                  <li> C# <small> [Basic/Intermediate] </small> </li>
                  <li> C++ <small> [Basic] </small> </li>
                  <li> php <small> Wordpress &middot; [Intermediate] </small> </li>
                </ul>
              </div>

              <div class="skills-segment">
                <h4 class="skills-segment-header"> Game Design </h4>
                <ul class="skills-list-container">
                  <li> Unity (C#) <small> [Basic/Intermediate] </small></li>
                  <li> Flixel (AS3) <small> [Advanced] </small></li>
                  <li> Twine <small> [Advanced] </small></li>

                  <li class="container">
                    Blender 3D <small> [Intermediate] </small> 
                    <ul>
                      <li> <small> <em> Modeling, Texturing, Rigging, Animation </em> </small> </li>
                    </ul>
                  </li>
                  <li> 3ds Max, Maya  <small> [Basic] </small> </li>
                </ul>
              </div>

              <div class="skills-segment">
                <h4 class="skills-segment-header"> Web </h4>
                <ul class="skills-list-container">
                  <li class="container"> 
                    HTML &amp; HTML5 <small> [Advanced] </small>
                    <ul>
                      <li> <small> <em> WebGL, Web Video</em> </small> </li>
                      <li> <small> <em> Advanced Canvas techniques </em> </small> </li>
                      <li> <small> <em> Cross-browser, backwards compatible</em> </small> </li>
                    </ul>
                  </li>
                  <li class="container"> 
                    CSS &amp; CSS3 <small> [Advanced] </small>
                    <ul>
                      <li> <small> <em> Sass Techniques </em> </small> </li>
                      <li> <small> <em> Transitions, Motion, Animation </em> </small> </li>
                    </ul>
                  </li>
                </ul>
              </div>

              <div class="skills-segment">
                <h4 class="skills-segment-header"> General Dev </h4>
                <ul class="skills-list-container">
                  <li> <small> Git &amp; GitHub </small> </li>
                  <li> <small> Version Control Best Practices </small> </li>
                  <li> <small> Command Line Interfaces </small> </li>
                  <li> <small> Database Queries </small> </li>
                  <li> <small> Data Manipulation &amp; Visualization </small> </li>
                  <li> <small> Agile Dev </small> </li>
                </ul>
              </div>

          </div>
        </div>
      </div>
    </section>

    <section>
      <div id="about" class="about section">
        <div class="section-content">
          <h1> About </h1>
          <div class="about-wrapper section-wrapper">
            <p><em> Who does this guy think he is anyway? </em></p>
            <p>I am a creator and craftsman driven by unquenchable curiosity and a desire to create joy. I strive for excellence in every task, knowing there is always more to learn.</p>

            <p>As a published writer, a passionate game designer, and an accomplished web software engineer with a background in art and design, I bridge the divide between creative and technical while speaking the language of both.</p>

            <h2>Recent Achievements</h2>
            <ul>
              <li>Saved over $48 million in at-risk revenue, working on a team of three developers at IMDb. We developed and delivered Tarnhelm &mdash; a Flash replacement JS/HTML5 framework &mdash; under a tight deadline.</li>
              <li>A new short story publication (Available early 2016).</li>
              <li>Wrote <em><a href="http://connorcleary.itch.io/segfault-0-mad-hatter">Segfault[0]: Mad Hatter</a></em> which placed as a finalist in the <a href="http://itch.io/jam/wag-challenge" target="_blank">Write-A-Game Challenge 2015</a> (#WAGChallenge).</li>
              <li>Rebuilt <em><a href="http://connorthomascleary.com/games/summoner-the-bescarfed-unity/BUILD.html">Summoner: The Bescarfed</a></em> in Unity 2D (C#) after initial <a href="http://connorthomascleary.com/games/summoner-the-bescarfed/">Actionscript 3/Flixel Prototype</a>.</li>
              <li>Learned the <em>Shadowrun Returns</em> toolset, created <em><a href="https://vimeo.com/142842311">The Skeleton Key</a></em>.</li>
              <li>Wrote a short voice over script for <em><a href="http://www.amusedsloth.com/games/asgardrun/" target="_blank">Asgard Run</a></em>.</li>
              <li>Created this spiffy website.</li>
            </ul>
          </div>
        </div>
      </div>
    </section>

    <footer>
      <div class="footer">
        <div class="copyrights">
          <p>code &amp; design &copy; connor thomas cleary</p>
          <p>built on <a href="http://riotjs.com/" target="_blank">riot.js</a></p>
        </div>
        <div class="contact">
          <small>contact:</small> ConnorThomasCleary@gmail.com
        </div>
      </div>
    </footer>
  </div>

  <script type="text/javascript">

    // Quick video loop control with jQ
    (function() {
      var heroVid = $('.hero-vid')[0];
      var maxLoops = 1;
      var heroVidPlayed = 0;

      function onEnded() {
        heroVidPlayed++;
        if (heroVidPlayed < maxLoops) {
          heroVid.play();
        } else {
          heroVid.removeEventListener('ended', onEnded);
        }
      }

      heroVid.addEventListener('ended', onEnded);
    })();


    // Sticky menu with jQ
    (function() {
      var mn  = $('.main-nav-wrapper');
      var mns = 'main-nav-sticky';
      var stickyThreshold = $(mn).height()*2;

      var heroHeight =  $('.hero').height();
      var heroVid = $('.hero-vid')[0];

      $(window).scroll(function() {
        if( $(this).scrollTop() > stickyThreshold ) {
          mn.addClass(mns);
        } else {
          mn.removeClass(mns);
        }
      });
    })();


    // Lazy copypasta smooth scroll on anchor clicks.
    $(function() {
      var navbarSpacing = 48;

      $('a[href*=#]:not([href=#])').click(function() {
        if (location.pathname.replace(/^\//,'') === this.pathname.replace(/^\//,'') && location.hostname === this.hostname) {
          var target = $(this.hash);
          target = target.length ? target : $('[name=' + this.hash.slice(1) +']');
          if (target.length) {
            $('html,body').animate({
              scrollTop: target.offset().top - navbarSpacing
            }, 1000);
            return false;
          }
        }
      });
    });

  </script>












  <!-- RIOT APP -->
  <script src="dist/ctc-tags.js"></script>

  <script type="text/javascript" src="src-config/portfolio-config.js"></script>
  <script type="text/javascript" src="src-config/publications-config.js"></script>

  <item-modal id="modal-container"></item-modal>
  <script type="text/javascript">
    window.debug.doDebug = true;

    window.modalControl = (function() {
      var modalEl = document.getElementById('modal-container');
      var modalTag;

      function slugify(str) {
        return str.toLowerCase().replace(/[\s:_-]/g, '-');
      }

      return {
        initModal: function(riotTag) {
          // TODO, add pushState for better back/forward browsing

          // var name = riotTag.opts.title;
          // history.pushState({stateName: name}, name, '#item:'+ slugify(name));
          
          modalTag = riot.mount(modalEl, 'item-modal', riotTag)[0];
        },
        dismissModal: function() {
          modalTag.unmount(true);
          document.location.hash = '';
        }
      };
    })();

    var QueryO = QueryO; // from js/queryo.js
    var hashCatcher = (function(window, portfolioItems) {
      // Some portfolioItems will have a `key` value
      // in case they need to be cross-linked. Determine
      // which keys to listen for here.
      var listenKeys = [];
      portfolioItems.forEach(function(item) {
        if (item.key) {
          listenKeys.push(item.key);
        }
      });

      var keyTest = /^key\:/;
      function isKeyHash(currHash) {
        return keyTest.test(currHash);
      }
      function getKey(currHash) {
        return currHash.split(':')[1];
      }

      function handleHashChange(e) {
        var currHash = document.location.hash.substr(1);
        if (!isKeyHash(currHash)) {
          window.debug.log('No item key for this hash :: ', currHash);
          return;
        }

        var searchKey = getKey(currHash);
        var isListenKey = listenKeys.indexOf(searchKey) !== -1;

        if (isListenKey) {
          var modalItem = _.findWhere(portfolioItems, {key: searchKey});
          if (!modalItem) {
            window.debug.warn('Failed to find modalItem for :: ', searchKey);
            return;
          }
          window.modalControl.initModal(modalItem)
        }
      }

      // Add to hashchange event, and call on init.
      window.addEventListener('hashchange', handleHashChange);
      handleHashChange();

    }) (window, portfolioItems);

    var appsConfig = {
      disableFilters: QueryO.get('disableFilters', {as: 'boolean'}),
      hideFilters: QueryO.get('hideFilters', {as: 'boolean'})
    };
    var presetFilters = {
      portfolio: QueryO.get('portFilters', {as: 'array', of: 'string'}),
      publications: QueryO.get('pubFilters', {as: 'array', of: 'string'}),
      journalism: QueryO.get('journoFilters', {as: 'array', of: 'string'})
    };

    try {
      var portfolio = riot.mount(
        '#portfolio-app',
        'tags-app',
        {
          // itemLimit: 3, // TODO this looks ugly as sin for slate type items.
          appConfig: appsConfig,
          presetFilters: presetFilters.portfolio,
          searchPhrase: 'Filter portfolio by skill:',
          tagsClass: 'skill-tags',
          itemsWrapClass: 'slates-wrapper',
          itemsHoldClass: 'slates-holder',
          itemsClass: 'slate-item',
          tagsItems: portfolioItems
        }
      );

      var publications = riot.mount(
        '#publications-app',
        'tags-app',
        {
          appConfig: appsConfig,
          presetFilters: presetFilters.publications,
          searchPhrase: 'Filter publications by type:',
          tagsClass: 'skill-tags',
          itemsWrapClass: 'pubs-wrapper',
          itemsHoldClass: 'pub-item-holder',
          itemsClass: 'pub-item',
          tagsItems: fictionPublicationItems
        }
      );

      var journalism = riot.mount(
        '#journalism-app',
        'tags-app',
        {
          appConfig: appsConfig,
          presetFilters: presetFilters.journalism,
          searchPhrase: 'Filter articles by tag:',
          itemLimit: 10,
          tagsClass: 'skill-tags',
          itemsWrapClass: 'pubs-wrapper',
          itemsHoldClass: 'pub-item-holder',
          itemsClass: 'pub-item',
          tagsItems: journoPublicationItems
        }
      );

    } catch (e) {
      window.debug.error("Error mounting app, e ::", e, e.stack);
    }
  </script>
</body>

</html>