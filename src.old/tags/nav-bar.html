<nav-bar>
  <h1 class="offscreen">{ opts.label }</h1>
  <nav-item each={ opts.items } />
  
  <script>
    riot.observable(this);

    this.on('mount', function() {
      var navItems = [].concat( this.tags['nav-item'] );
      for (var i = 0; i < navItems.length; i++) {
        var navItem = navItems[i];
        // console.log("navItem ::", navItem);
        navItem.on('setActive', this.unsetActive.bind(this) );
      }
    });
    this.unsetActive = function() {
      var navItems = [].concat( this.tags['nav-item'] );
      for (var i = 0; i < navItems.length; i++) {
        navItems[i].root.classList.remove('active');
      }
    };
  </script>
</nav-bar>